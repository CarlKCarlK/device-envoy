// @generated by `cargo check-all`. Do not edit by hand.
//! Module containing [`AudioPlayerGenerated`], the sample struct type generated
//! by the [`audio_player!`](macro@crate::audio_player) macro.
//!
//! Auto-generated.

#[cfg(all(not(doc), not(feature = "host")))]
use crate::audio_player;

#[cfg(all(not(doc), not(feature = "host")))]
audio_player! {
    AudioPlayerGenerated {
        din_pin: PIN_8,
        bclk_pin: PIN_9,
        lrc_pin: PIN_10,
    }
}

#[cfg(doc)]
/// Sample struct type generated by the [`audio_player!`](macro@crate::audio_player)
/// macro, showing methods and associated constants.
///
/// This page serves as the reference for what a generated audio player type
/// provides. For first-time readers, start with the
/// [`audio_player`](mod@crate::audio_player) module documentation, then return
/// here for a complete list of available methods and associated constants.
///
/// Auto-generated.
pub struct AudioPlayerGenerated;

#[cfg(doc)]
use crate::Result;
#[cfg(doc)]
use crate::audio_player::{AtEnd, AudioClip, AudioClipBuf, Volume};

#[cfg(doc)]
impl AudioPlayerGenerated {
    /// Sample rate used for PCM playback by this generated player type.
    pub const SAMPLE_RATE_HZ: u32 = 22_050;
    /// Initial runtime volume relative to [`Self::MAX_VOLUME`].
    pub const INITIAL_VOLUME: Volume = Volume::MAX;
    /// Runtime volume ceiling for this generated player type.
    pub const MAX_VOLUME: Volume = Volume::MAX;

    /// Returns how many samples are needed for a duration in milliseconds
    /// at this player's sample rate.
    #[must_use]
    pub const fn samples_for_duration_ms(duration_ms: u32) -> usize {
        crate::audio_player::samples_for_duration_ms(duration_ms, Self::SAMPLE_RATE_HZ)
    }

    /// Shorthand alias for [`Self::samples_for_duration_ms`].
    #[must_use]
    pub const fn samples_ms(duration_ms: u32) -> usize {
        Self::samples_for_duration_ms(duration_ms)
    }

    /// Creates a silent clip at this player's sample rate.
    #[must_use]
    pub const fn silence<const SAMPLE_COUNT: usize>(
    ) -> AudioClipBuf<{ Self::SAMPLE_RATE_HZ }, SAMPLE_COUNT> {
        AudioClipBuf::silence()
    }

    /// Creates a sine-wave clip at this player's sample rate.
    #[must_use]
    pub const fn tone<const SAMPLE_COUNT: usize>(
        frequency_hz: u32,
    ) -> AudioClipBuf<{ Self::SAMPLE_RATE_HZ }, SAMPLE_COUNT> {
        AudioClipBuf::tone(frequency_hz)
    }

    /// Creates a clip from little-endian s16 PCM bytes at this player's sample rate.
    #[must_use]
    pub const fn clip_from_s16le_bytes<
        const SAMPLE_COUNT: usize,
        const AUDIO_SAMPLE_BYTES_LEN: usize,
    >(
        audio_sample_s16le: &[u8; AUDIO_SAMPLE_BYTES_LEN],
    ) -> AudioClipBuf<{ Self::SAMPLE_RATE_HZ }, SAMPLE_COUNT> {
        AudioClipBuf::from_s16le_bytes(audio_sample_s16le)
    }

    /// Creates and spawns the generated audio player instance.
    ///
    /// See the [`audio_player`](mod@crate::audio_player) module docs for usage.
    pub fn new(
        din_pin: embassy_rp::Peri<'static, embassy_rp::peripherals::PIN_8>,
        bclk_pin: embassy_rp::Peri<'static, embassy_rp::peripherals::PIN_9>,
        lrc_pin: embassy_rp::Peri<'static, embassy_rp::peripherals::PIN_10>,
        pio: embassy_rp::Peri<'static, embassy_rp::peripherals::PIO1>,
        dma: embassy_rp::Peri<'static, embassy_rp::peripherals::DMA_CH0>,
        spawner: embassy_executor::Spawner,
    ) -> Result<&'static Self> {
        static INSTANCE: AudioPlayerGenerated = AudioPlayerGenerated;
        let _ = (din_pin, bclk_pin, lrc_pin, pio, dma, spawner);
        Ok(&INSTANCE)
    }

    /// Starts playback of one or more static PCM clips.
    pub fn play<const CLIP_COUNT: usize>(
        &self,
        audio_clips: [&'static AudioClip<{ Self::SAMPLE_RATE_HZ }>; CLIP_COUNT],
        at_end: AtEnd,
    ) {
        let _ = (audio_clips, at_end);
    }

    /// Stops current playback as soon as possible.
    pub fn stop(&self) {}

    /// Sets runtime playback volume relative to [`Self::MAX_VOLUME`].
    pub fn set_volume(&self, volume: Volume) {
        let _ = volume;
    }

    /// Returns the current runtime playback volume relative to [`Self::max_volume`].
    #[must_use]
    pub fn volume(&self) -> Volume {
        Volume::MAX
    }

    /// Returns the configured runtime volume ceiling.
    #[must_use]
    pub fn max_volume(&self) -> Volume {
        Self::MAX_VOLUME
    }
}
